<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
		window.addEventListener('load', function () {
			const btn = document.getElementById('btn');
			btn.addEventListener('click', () => {
				//向服务器发送请求
				/*
                    在js中向服务器发送的请求加载数据的技术叫AJAX

                    AJAX:
                        - A 异步  J javascript  A and  X xml
                        - 异步的js和xml
                        - 作用为通过js向服务器发送请求来加载数据
                        - xml是早期AJAX使用的数据格式
                            <student>
                                <name>孙悟空</name>
                            </student>
                        - 目前的数据格式都使用json
                            {
                                "name":"孙悟空"
                            }
                        - 可以选择的方案:
                            1.XMLHTTPRequest(xhr)
                            2.Fetch(xhr升级版)
                            3.Axios(xhr的升级封装)

                     - CORS(跨域资源共享)
                        - 跨域请求
                            - 如果两个网站的完整域名不相同
                                a网站: http://haha.com
                                b网站: http://heihei.com
                            - 跨域需要检查三个东西:
                                协议  域名  端口号
                                三个只要有一个不同就属于跨域
                            - 当我们通过AJAX去发送跨域请求时
                                游览器为了服务器的安全，会阻止js读取到服务器的数据

                            -解决方案:
                                - 在服务器中设置一个允许跨域的头
                                    Access-Control-Allow-Origin
                                        - 允许哪些客户端访问我们的服务器
                 */
				console.log('按钮已点击');
				//xhr
				//创建一个新的xhr对象，xhr表示请求的信息
				const xhr = new XMLHttpRequest();

				//设置请求的信息
				xhr.open('GET', 'http://localhost:3000/students');

				//发送求情
				xhr.send();

			});
		});
    </script>
</head>
<body>
<h1>这是客户端</h1>
<button id="btn">点击加载数据</button>
</body>
</html>