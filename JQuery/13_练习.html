<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Document</title>
    <script src="./scripts/jquery-3.6.1.js"></script>
    <script>
		$(function () {
			let $hobby = $('input[name=hobby]');
			let $check_all = $('#check-all');

			$('#all').click(function () {
				$hobby.add($check_all).prop('checked', true);
				// $check_all.prop('checked', true);
			});

			$('#no').click(function () {
				$hobby.add($check_all).prop('checked', false);
				// $check_all.prop('checked', false);
			});

			$('#reverse').click(function () {
				$hobby.prop('checked', function (index, val) {
					return !val;
				});

				if (checkbox()) {
					$check_all.prop('checked', true);
				} else {
					$check_all.prop('checked', false);
				}
			});

			$check_all.click(function () {
				if ($(this).prop('checked')) {
					$hobby.prop('checked', true);
				} else {
					$hobby.prop('checked', false);
				}
			});

			$hobby.click(function () {
				if (checkbox()) {
					$check_all.prop('checked', true);
				} else {
					$check_all.prop('checked', false);
				}
			});

			function checkbox() {
				// let index = 0;
				// for (let i = 0; i < $hobby.length; i++) {
				// 	if ($hobby.eq(i).prop('checked')) {
				// 		index++;
				// 	}
				// }
				// console.log(index);


				return $hobby.filter(':checked').length === $hobby.length;
			}
		});
    </script>
</head>
<body>
<div>
    <form action="#">
        <div>
            请选择你的爱好：
            <input type="checkbox" id="check-all"/> 全选
        </div>
        <div>
            <input type="checkbox" name="hobby" value="乒乓球"/> 乒乓球
            <input type="checkbox" name="hobby" value="篮球"/> 篮球
            <input type="checkbox" name="hobby" value="羽毛球"/> 羽毛球
            <input type="checkbox" name="hobby" value="足球"/> 足球
        </div>
        <div>
            <button type="button" id="all">全选</button>
            <button type="button" id="no">取消</button>
            <button type="button" id="reverse">反选</button>
            <button type="button" id="send">提交</button>
        </div>
    </form>
</div>
</body>
</html>